[{"code":[],"body":"If you're upgrading an existing application, it's a great idea to have good test\ncoverage before going in. You should also first upgrade to Rails 4.2 in case you\nhaven't and make sure your application still runs as expected before attempting\nan update to Rails 5.0. A list of things to watch out for when upgrading is\navailable in the\nUpgrading Ruby on Rails\nguide.","title":"1 Upgrading to Rails 5.0","anchor":"#upgrading-to-rails-5-0"},{"title":"2 Major Features","anchor":"#major-features","code":[],"body":""},{"title":"2.1 Action Cable","anchor":"#action-cable","code":[],"body":"Action Cable is a new framework in Rails 5. It seamlessly integrates\nWebSockets with the rest of your\nRails application.Action Cable allows for real-time features to be written in Ruby in the\nsame style and form as the rest of your Rails application, while still being\nperformant and scalable. It's a full-stack offering that provides both a\nclient-side JavaScript framework and a server-side Ruby framework. You have\naccess to your full domain model written with Active Record or your ORM of\nchoice.See the Action Cable Overview guide for more\ninformation."},{"title":"2.2 API Applications","anchor":"#api-applications","code":["\n$ rails new my_api --api\n\nrails new my_api --api\n\nCopy\n"],"body":"Rails can now be used to create slimmed down API only applications.\nThis is useful for creating and serving APIs similar to Twitter or GitHub API,\nthat can be used to serve public facing, as well as, for custom applications.You can generate a new api Rails app using:This will do three main things:The application provides a base for APIs,\nthat can then be configured to pull in functionality as suitable for the application's needs.See the Using Rails for API-only Applications guide for more\ninformation."},{"title":"2.3 Active Record attributes API","anchor":"#active-record-attributes-api","code":["\n# db/schema.rb\ncreate_table :store_listings, force: true do |t|\n  t.decimal :price_in_cents\n  t.string :my_string, default: \"original default\"\nend\n\n# db/schema.rb\ncreate_table :store_listings, force: true do |t|\n  t.decimal :price_in_cents\n  t.string :my_string, default: \"original default\"\nend\n\nCopy\n","\n# app/models/store_listing.rb\nclass StoreListing < ActiveRecord::Base\nend\n\n# app/models/store_listing.rb\nclass StoreListing < ActiveRecord::Base\nend\n\nCopy\n","\nstore_listing = StoreListing.new(price_in_cents: '10.1')\n\n# before\nstore_listing.price_in_cents # => BigDecimal.new(10.1)\nStoreListing.new.my_string # => \"original default\"\n\nclass StoreListing < ActiveRecord::Base\n  attribute :price_in_cents, :integer # custom type\n  attribute :my_string, :string, default: \"new default\" # default value\n  attribute :my_default_proc, :datetime, default: -> { Time.now } # default value\n  attribute :field_without_db_column, :integer, array: true\nend\n\n# after\nstore_listing.price_in_cents # => 10\nStoreListing.new.my_string # => \"new default\"\nStoreListing.new.my_default_proc # => 2015-05-30 11:04:48 -0600\nmodel = StoreListing.new(field_without_db_column: [\"1\", \"2\", \"3\"])\nmodel.attributes # => {field_without_db_column: [1, 2, 3]}\n\nstore_listing = StoreListing.new(price_in_cents: '10.1')\n\n# before\nstore_listing.price_in_cents # => BigDecimal.new(10.1)\nStoreListing.new.my_string # => \"original default\"\n\nclass StoreListing < ActiveRecord::Base\n  attribute :price_in_cents, :integer # custom type\n  attribute :my_string, :string, default: \"new default\" # default value\n  attribute :my_default_proc, :datetime, default: -> { Time.now } # default value\n  attribute :field_without_db_column, :integer, array: true\nend\n\n# after\nstore_listing.price_in_cents # => 10\nStoreListing.new.my_string # => \"new default\"\nStoreListing.new.my_default_proc # => 2015-05-30 11:04:48 -0600\nmodel = StoreListing.new(field_without_db_column: [\"1\", \"2\", \"3\"])\nmodel.attributes # => {field_without_db_column: [1, 2, 3]}\n\nCopy\n"],"body":"Defines an attribute with a type on a model. It will override the type of existing attributes if needed.\nThis allows control over how values are converted to and from SQL when assigned to a model.\nIt also changes the behavior of values passed to ActiveRecord::Base.where, which lets use our domain objects across much of Active Record,\nwithout having to rely on implementation details or monkey patching.Some things that you can achieve with this:Creating Custom Types:You can define your own custom types, as long as they respond\nto the methods defined on the value type. The method deserialize or\ncast will be called on your type object, with raw input from the\ndatabase or from your controllers. This is useful, for example, when doing custom conversion,\nlike Money data.Querying:When ActiveRecord::Base.where is called, it will\nuse the type defined by the model class to convert the value to SQL,\ncalling serialize on your type object.This gives the objects ability to specify, how to convert values when performing SQL queries.Dirty Tracking:The type of an attribute is given the opportunity to change how dirty\ntracking is performed.See its\ndocumentation\nfor a detailed write up."},{"title":"2.4 Test Runner","anchor":"#test-runner","code":[],"body":"A new test runner has been introduced to enhance the capabilities of running tests from Rails.\nTo use this test runner simply type bin/rails test.Test Runner is inspired from RSpec, minitest-reporters, maxitest and others.\nIt includes some of these notable advancements:"},{"code":[],"body":"Please refer to the Changelog for detailed changes.","title":"3 Railties","anchor":"#railties"},{"title":"3.1 Removals","anchor":"#railties-removals","code":[],"body":""},{"code":[],"body":"","title":"3.2 Deprecations","anchor":"#railties-deprecations"},{"code":[],"body":"","title":"3.3 Notable changes","anchor":"#railties-notable-changes"},{"code":[],"body":"Please refer to the Changelog for detailed changes.","title":"4 Action Pack","anchor":"#action-pack"},{"title":"4.1 Removals","anchor":"#action-pack-removals","code":[],"body":""},{"code":[],"body":"","title":"4.2 Deprecations","anchor":"#action-pack-deprecations"},{"code":[],"body":"","title":"4.3 Notable changes","anchor":"#action-pack-notable-changes"},{"code":[],"body":"Please refer to the Changelog for detailed changes.","title":"5 Action View","anchor":"#action-view"},{"title":"5.1 Removals","anchor":"#action-view-removals","code":[],"body":""},{"code":[],"body":"","title":"5.2 Notable Changes","anchor":"#action-view-notable-changes"},{"code":[],"body":"Please refer to the Changelog for detailed changes.","title":"6 Action Mailer","anchor":"#action-mailer"},{"title":"6.1 Removals","anchor":"#action-mailer-removals","code":[],"body":""},{"code":[],"body":"","title":"6.2 Notable changes","anchor":"#action-mailer-notable-changes"},{"code":[],"body":"Please refer to the Changelog for detailed changes.","title":"7 Active Record","anchor":"#active-record"},{"title":"7.1 Removals","anchor":"#active-record-removals","code":[],"body":""},{"code":[],"body":"","title":"7.2 Deprecations","anchor":"#active-record-deprecations"},{"code":[],"body":"","title":"7.3 Notable changes","anchor":"#active-record-notable-changes"},{"code":[],"body":"Please refer to the Changelog for detailed changes.","title":"8 Active Model","anchor":"#active-model"},{"title":"8.1 Removals","anchor":"#active-model-removals","code":[],"body":""},{"code":[],"body":"","title":"8.2 Deprecations","anchor":"#active-model-deprecations"},{"code":[],"body":"","title":"8.3 Notable changes","anchor":"#active-model-notable-changes"},{"code":[],"body":"Please refer to the Changelog for detailed changes.","title":"9 Active Job","anchor":"#active-job"},{"title":"9.1 Notable changes","anchor":"#active-job-notable-changes","code":[],"body":""},{"code":[],"body":"Please refer to the Changelog for detailed changes.","title":"10 Active Support","anchor":"#active-support"},{"title":"10.1 Removals","anchor":"#removals","code":[],"body":""},{"code":[],"body":"","title":"10.2 Deprecations","anchor":"#deprecations"},{"code":[],"body":"","title":"10.3 Notable changes","anchor":"#active-support-notable-changes"},{"code":[],"body":"See the\nfull list of contributors to Rails for\nthe many people who spent many hours making Rails, the stable and robust\nframework it is. Kudos to all of them.","title":"11 Credits","anchor":"#credits"}]